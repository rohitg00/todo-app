(function(root,factory){typeof exports=="object"&&typeof module=="object"?module.exports=factory():typeof define=="function"&&define.amd?define([],factory):typeof exports=="object"?exports["teambit.html/modules/inject-html-element-preview"]=factory():root["teambit.html/modules/inject-html-element-preview"]=factory()})(self,()=>(()=>{"use strict";var __webpack_modules__={249:function(__unused_webpack_module,exports2,__webpack_require__2){var __bit_component={id:"teambit.html/modules/inject-html-element@09903e0c96c21a2d4dd285250d45765d84118709",homepage:"https://bit.cloud/teambit/html/modules/inject-html-element",exported:!0},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.InjectScriptIntoHead=void 0;const react_1=__importDefault(__webpack_require__2(363)),inject_html_element_1=__webpack_require__2(132),basicHtml=`<html>
  <head>
    <title>My page</title>
  </head>
  <body>
    <h1>My page</h1>
    <p>This is my page.</p>
  </body>
</html>`;function InjectScriptIntoHead(){return react_1.default.createElement("pre",null,react_1.default.createElement("code",null,(0,inject_html_element_1.inject)(basicHtml,{position:"append",parent:"head",tag:"script",attributes:{src:"https://example.com/script.js"}})))}InjectScriptIntoHead.__bit_component=__bit_component,exports2.InjectScriptIntoHead=InjectScriptIntoHead},132:function(__unused_webpack_module,exports2,__webpack_require__2){var __bit_component={id:"teambit.html/modules/inject-html-element@09903e0c96c21a2d4dd285250d45765d84118709",homepage:"https://bit.cloud/teambit/html/modules/inject-html-element",exported:!0},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.inject=void 0;const outdent_1=__importDefault(__webpack_require__2(351)),VOID_ELEMENT_TAGS=["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"];function isVoidElementTag(tag){return VOID_ELEMENT_TAGS.indexOf(tag)>-1}isVoidElementTag.__bit_component=__bit_component;function inject(html,element){const{tag,content,attributes,parent,position,raw}=element;if(raw&&attributes)throw new Error("You cannot use both raw and attributes in the same element");if(raw){if(!parent)return(0,outdent_1.default)`
        ${html}
        ${raw}
      `;const startParentRegex2=new RegExp(`<${parent}[^>]*>`),endParentRegex2=new RegExp(`</${parent}>`);return position==="prepend"?html.replace(startParentRegex2,(0,outdent_1.default)`
          <${parent}>
          ${raw}
        `):html.replace(endParentRegex2,(0,outdent_1.default)`
        ${raw}
        </${parent}>
      `)}const attributesString=attributes?Object.keys(attributes||{}).map(key=>`${key}="${attributes[key]}"`).join(" "):"",elementString=isVoidElementTag(tag)?`<${tag} ${attributesString} />`:`<${tag} ${attributesString}>${content||""}</${tag}>`;if(!parent)return(0,outdent_1.default)`
      ${html}
      ${elementString}
    `;const startParentRegex=new RegExp(`<${parent}[^>]*>`),endParentRegex=new RegExp(`</${parent}>`);return position==="prepend"?html.replace(startParentRegex,(0,outdent_1.default)`
        <${parent}>
        ${elementString}
      `):html.replace(endParentRegex,(0,outdent_1.default)`
      ${elementString}
      </${parent}>
    `)}inject.__bit_component=__bit_component,exports2.inject=inject},351:(module2,__webpack_exports__2,__webpack_require__2)=>{__webpack_require__2.r(__webpack_exports__2),__webpack_require__2.d(__webpack_exports__2,{default:()=>__WEBPACK_DEFAULT_EXPORT__,outdent:()=>defaultOutdent}),module2=__webpack_require__2.hmd(module2);function noop(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i]}function createWeakMap(){return typeof WeakMap<"u"?new WeakMap:fakeSetOrMap()}function fakeSetOrMap(){return{add:noop,delete:noop,get:noop,set:noop,has:function(k){return!1}}}var hop=Object.prototype.hasOwnProperty,has=function(obj,prop){return hop.call(obj,prop)};function extend(target,source){for(var prop in source)has(source,prop)&&(target[prop]=source[prop]);return target}var reLeadingNewline=/^[ \t]*(?:\r\n|\r|\n)/,reTrailingNewline=/(?:\r\n|\r|\n)[ \t]*$/,reStartsWithNewlineOrIsEmpty=/^(?:[\r\n]|$)/,reDetectIndentation=/(?:\r\n|\r|\n)([ \t]*)(?:[^ \t\r\n]|$)/,reOnlyWhitespaceWithAtLeastOneNewline=/^[ \t]*[\r\n][ \t\r\n]*$/;function _outdentArray(strings,firstInterpolatedValueSetsIndentationLevel,options){var indentationLevel=0,match=strings[0].match(reDetectIndentation);match&&(indentationLevel=match[1].length);var reSource="(\\r\\n|\\r|\\n).{0,"+indentationLevel+"}",reMatchIndent=new RegExp(reSource,"g");firstInterpolatedValueSetsIndentationLevel&&(strings=strings.slice(1));var newline=options.newline,trimLeadingNewline=options.trimLeadingNewline,trimTrailingNewline=options.trimTrailingNewline,normalizeNewlines=typeof newline=="string",l=strings.length,outdentedStrings=strings.map(function(v,i){return v=v.replace(reMatchIndent,"$1"),i===0&&trimLeadingNewline&&(v=v.replace(reLeadingNewline,"")),i===l-1&&trimTrailingNewline&&(v=v.replace(reTrailingNewline,"")),normalizeNewlines&&(v=v.replace(/\r\n|\n|\r/g,function(_){return newline})),v});return outdentedStrings}function concatStringsAndValues(strings,values){for(var ret="",i=0,l=strings.length;i<l;i++)ret+=strings[i],i<l-1&&(ret+=values[i]);return ret}function isTemplateStringsArray(v){return has(v,"raw")&&has(v,"length")}function createInstance(options){var arrayAutoIndentCache=createWeakMap(),arrayFirstInterpSetsIndentCache=createWeakMap();function outdent(stringsOrOptions){for(var values=[],_i=1;_i<arguments.length;_i++)values[_i-1]=arguments[_i];if(isTemplateStringsArray(stringsOrOptions)){var strings=stringsOrOptions,firstInterpolatedValueSetsIndentationLevel=(values[0]===outdent||values[0]===defaultOutdent)&&reOnlyWhitespaceWithAtLeastOneNewline.test(strings[0])&&reStartsWithNewlineOrIsEmpty.test(strings[1]),cache=firstInterpolatedValueSetsIndentationLevel?arrayFirstInterpSetsIndentCache:arrayAutoIndentCache,renderedArray=cache.get(strings);if(renderedArray||(renderedArray=_outdentArray(strings,firstInterpolatedValueSetsIndentationLevel,options),cache.set(strings,renderedArray)),values.length===0)return renderedArray[0];var rendered=concatStringsAndValues(renderedArray,firstInterpolatedValueSetsIndentationLevel?values.slice(1):values);return rendered}else return createInstance(extend(extend({},options),stringsOrOptions||{}))}var fullOutdent=extend(outdent,{string:function(str){return _outdentArray([str],!1,options)[0]}});return fullOutdent}var defaultOutdent=createInstance({trimLeadingNewline:!0,trimTrailingNewline:!0});const __WEBPACK_DEFAULT_EXPORT__=defaultOutdent;try{module2.exports=defaultOutdent,Object.defineProperty(defaultOutdent,"__esModule",{value:!0}),defaultOutdent.default=defaultOutdent,defaultOutdent.outdent=defaultOutdent}catch{}},363:module2=>{module2.exports=React}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==void 0)return cachedModule.exports;var module2=__webpack_module_cache__[moduleId]={id:moduleId,loaded:!1,exports:{}};return __webpack_modules__[moduleId].call(module2.exports,module2,module2.exports,__webpack_require__),module2.loaded=!0,module2.exports}__webpack_require__.d=(exports2,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports2,key)&&Object.defineProperty(exports2,key,{enumerable:!0,get:definition[key]})},__webpack_require__.hmd=module2=>(module2=Object.create(module2),module2.children||(module2.children=[]),Object.defineProperty(module2,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+module2.id)}}),module2),__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports2=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(exports2,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports2,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{compositions:()=>compositions,compositions_metadata:()=>compositions_metadata,overview:()=>overview});var inject_html_element_docs_namespaceObject={};__webpack_require__.r(inject_html_element_docs_namespaceObject),__webpack_require__.d(inject_html_element_docs_namespaceObject,{default:()=>MDXContent});var inject_html_element_composition=__webpack_require__(249),external_React_=__webpack_require__(363);const external_MdxJsReact_namespaceObject=MdxJsReact,external_TeambitMdxUiMdxScopeContext_namespaceObject=TeambitMdxUiMdxScopeContext;var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded),key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&(!Object.prototype.propertyIsEnumerable.call(source,key)||(target[key]=source[key]))}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var layoutProps={},MDXLayout="wrapper";function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,external_MdxJsReact_namespaceObject.mdx)(MDXLayout,_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,external_MdxJsReact_namespaceObject.mdx)(external_TeambitMdxUiMdxScopeContext_namespaceObject.MDXScopeProvider,{components:{},mdxType:"MDXScopeProvider"},(0,external_MdxJsReact_namespaceObject.mdx)("h3",null,"Usage"),(0,external_MdxJsReact_namespaceObject.mdx)("p",null,"First, import the inject function:"),(0,external_MdxJsReact_namespaceObject.mdx)("pre",null,(0,external_MdxJsReact_namespaceObject.mdx)("code",{parentName:"pre",className:"language-javascript"},`import { inject } from '@teambit/html.modules.inject-html-element';
`)),(0,external_MdxJsReact_namespaceObject.mdx)("p",null,"The inject function takes two arguments:"),(0,external_MdxJsReact_namespaceObject.mdx)("ul",null,(0,external_MdxJsReact_namespaceObject.mdx)("li",{parentName:"ul"},(0,external_MdxJsReact_namespaceObject.mdx)("p",{parentName:"li"},(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"p"},"html"),": A string containing the HTML that you want to modify.")),(0,external_MdxJsReact_namespaceObject.mdx)("li",{parentName:"ul"},(0,external_MdxJsReact_namespaceObject.mdx)("p",{parentName:"li"},(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"p"},"element"),": An object representing the HTML element that you want to inject. The object has the following properties:"),(0,external_MdxJsReact_namespaceObject.mdx)("ul",{parentName:"li"},(0,external_MdxJsReact_namespaceObject.mdx)("li",{parentName:"ul"},(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"li"},"parent"),": A string representing the parent element into which the new element will be injected. This can be 'head', 'body', or any other valid HTML element tag name."),(0,external_MdxJsReact_namespaceObject.mdx)("li",{parentName:"ul"},(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"li"},"position"),": A string representing the position at which the new element will be inserted. This can be 'prepend' or 'append'."),(0,external_MdxJsReact_namespaceObject.mdx)("li",{parentName:"ul"},(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"li"},"tag"),": A string representing the tag name of the new element."),(0,external_MdxJsReact_namespaceObject.mdx)("li",{parentName:"ul"},(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"li"},"content")," (optional): A string representing the content to be inserted into the new element."),(0,external_MdxJsReact_namespaceObject.mdx)("li",{parentName:"ul"},(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"li"},"attributes")," (optional): An object representing the attributes to be added to the new element. The keys of the object represent attribute names, and the values represent attribute values."),(0,external_MdxJsReact_namespaceObject.mdx)("li",{parentName:"ul"},(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"li"},"raw")," (optional): A string representing the raw HTML to be inserted into the new element (this will override the ",(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"li"},"tag"),", ",(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"li"},"content"),", and ",(0,external_MdxJsReact_namespaceObject.mdx)("inlineCode",{parentName:"li"},"attributes")," properties).")))),(0,external_MdxJsReact_namespaceObject.mdx)("p",null,"Here is an example usage:"),(0,external_MdxJsReact_namespaceObject.mdx)("pre",null,(0,external_MdxJsReact_namespaceObject.mdx)("code",{parentName:"pre",className:"language-javascript"},`const html = \`
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <title>My page</title>
    </head>
    <body>
      <h1>Hello, world!</h1>
    </body>
  </html>
\`;

const newElement = {
  parent: 'head',
  position: 'prepend',
  tag: 'meta',
  attributes: {
    charset: 'utf-8',
  },
};

const modifiedHtml = inject(html, newElement);
console.log(modifiedHtml);
`)),(0,external_MdxJsReact_namespaceObject.mdx)("p",null,"This will output:"),(0,external_MdxJsReact_namespaceObject.mdx)("pre",null,(0,external_MdxJsReact_namespaceObject.mdx)("code",{parentName:"pre",className:"language-html"},`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My page</title>
  </head>
  <body>
    <h1>Hello, world!</h1>
  </body>
</html>
`))))}MDXContent.isMDXComponent=!0;var __bit_component={id:"teambit.html/modules/inject-html-element@09903e0c96c21a2d4dd285250d45765d84118709",homepage:"https://bit.cloud/teambit/html/modules/inject-html-element",exported:!0};const compositions=[inject_html_element_composition],overview=[inject_html_element_docs_namespaceObject],compositions_metadata={compositions:[{displayName:"Inject script into head",identifier:"InjectScriptIntoHead"}]}})(),__webpack_exports__})());
